{% assign features = site.data.kotlin-features %}

<section class="kotlin-overview-section _features">
    <h2 class="section-header">Why Kotlin?</h2>
    <div class="section-content">

        <div class="kotlin-features-carousel-wrap" id="features-carousel-wrap">

            <div class="kotlin-features-carousel js-carousel">
                <ul class="kotlin-features-list js-carousel-list">
                    {% for item in features %}
                        {% assign feature_id = item[0] %}
                        {% assign feature = item[1] %}

                        <li class="kotlin-feature _{{ feature_id }} js-popup-open-button"
                            data-popup-id="kotlin-feature_{{ feature_id }}">
                            <div class="feature-image"><div class="feature-icon _{{ feature_id }}"></div></div>
                            <h3 class="feature-title">{{ feature.title }}</h3>
                            <p class="feature-description">{{ feature.description }}</p>
                            <span class="feature-example-link">See example</span>
                        </li>
                    {% endfor %}
                </ul>
            </div>

            <div class="kotlin-features-carousel-nav _prev js-carousel-nav-prev is_disabled"></div>
            <div class="kotlin-features-carousel-nav _next js-carousel-nav-next"></div>
        </div>
    </div>

    {% for item in features %}
        {% assign feature_id = item[0] %}
        {% assign feature = item[1] %}

        <div class="overview-popup overview-popup_{{ feature_id }} _hidden js-popup"
             id="kotlin-feature_{{ feature_id }}">
            <div class="popup-content">
                {% if feature.content_file contains '.md' %}
                    {% markdown %}{% include {{feature.content_file}} %}{% endmarkdown %}
                {% else %}
                    {% include {{feature.content_file}} %}
                {% endif %}
            </div>

            <div class="popup-close-button js-popup-close-button"
                 data-popup-id="kotlin-feature_{{ feature_id }}"></div>
        </div>
        <div class="overview-popup-overlay"></div>
    {% endfor %}

</section>